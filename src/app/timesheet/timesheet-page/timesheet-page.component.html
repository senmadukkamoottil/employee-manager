<main class="form-signin w-50 m-auto"></main>
<div class="container">
  <!-- <div class="row">
    <div class="col-1">Hours</div>
    <div class="col-1">
    <div
          class="progress"
          role="progressbar"
          aria-label="Example with label"
          aria-valuenow="20"
          aria-valuemin="0"
          aria-valuemax="100">
        </div>
      </div>
    <div class="progress-bar" style="width: 20%">20</div>
  </div> -->

  <div class="row">
    <div class="col-1"></div>
    <div class="col-3">
      <div class="col-3" style="margin-top: 45px">
        <ngb-datepicker #dp [(ngModel)]="model" (navigate)="date = $event.next" 
        (dateSelect)="onDateSelect($event)"/>
      </div>
    </div>
    <div class="col-8">
      <h4 class="mb-3  border-bottom">Weekly summary</h4>
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-4">Hours logged: 35hrs</div>
            <div class="col-4">Status: Pending approval</div>
            <div class="col-4">Submited: Mar 16 2025</div>
          </div>
          <div class="row mt-3">
            <div class="col-4">Billable: 35hrs</div>
            <div class="col-4">Non billable: 0hrs</div>
            <div class="col-4">Overtime: 0hrs</div>
          </div>
        </div>
      </div>


    </div>
  </div>
  <div class="row mt-5">
    <div class="col-1" style="margin-top: 45px">
    </div>
    <!-- {{this.timesheetForm.value | json}} -->
    <div class="col-11">
      <h4 class="mb-3  border-bottom">Daily breakdown</h4>
      <div class="row">
        <!-- <div class="col-lg-1"></div> -->
        <div class="col-lg-12">
          <div class="main-box clearfix">
            <div class="table-responsive">
              <form [formGroup]="timesheetForm" (ngSubmit)="saveTimesheets()">
              <table class="table user-list">
                <thead>
                  <tr>
                    <th><span>Date</span></th>
                    <th><span>Project</span></th>
                    <th class="text-center"><span>Hours</span></th>
                    <th><span>Task</span></th>
                    <th class="text-center"><span>Status</span></th>
                    <th  width= "10%" >Action</th>
                  </tr>
                </thead>
                <tbody formArrayName="daily" >
                  
                <tr *ngFor="let row of timesheetForm.controls.daily.controls; let i = index" [formGroupName]="i">
                    <td>
                      <span class="user-subhead">{{ row.get('date')?.value | date: 'EEEE'}}<br/>{{ row.get('date')?.value}}</span>
                    </td>
                    <td>
                      <input type="text" formControlName="project">
                    </td>
                    <td class="text-center">
                      <input type="text" formControlName="hours">
                    </td>
                    <td>
                      <input type="text" formControlName="taskDescription">
                    </td>
                    <td class="text-center">
                      <span *ngIf="row.get('status')?.value === 'Inactive'" class="badge bg-dark-subtle text-dark-emphasis rounded-pill">Inactive</span>
                      <span *ngIf="row.get('status')?.value === 'Submitted'" class="badge bg-info-subtle text-info-emphasis rounded-pill">Submitted</span>
                      <span *ngIf="row.get('status')?.value === 'Pending'" class="badge bg-warning-subtle text-warning-emphasis rounded-pill">Pending</span>
                      <span *ngIf="row.get('status')?.value === 'Approved'" class="badge bg-danger-subtle text-danger-emphasis rounded-pill">Rejected</span>
                      <span *ngIf="row.get('status')?.value === 'Rejected'" class="badge bg-success-subtle text-success-emphasis rounded-pill">Approved</span>
                    </td>
                    <td >
                      <a href="#" class="table-link text-info">
                        <span class="fa-stack">
                          <i class="bi bi-pencil"></i>
                        </span>
                      </a>&nbsp;
                      <a href="#" class="table-link danger">
                        <span class="fa-stack">
                          <i class="bi bi-trash"></i>
                        </span>
                      </a>
                    </td>
                  </tr>


                </tbody>
              </table>
              <button class="w-25 btn btn-primary btn-lg" type="submit">Submit</button>
            </form>
            </div>
            
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


